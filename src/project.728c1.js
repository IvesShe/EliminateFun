window.__require=function e(t,i,n){function r(s,l){if(!i[s]){if(!t[s]){var o=s.split("/");if(o=o[o.length-1],!t[o]){var c="function"==typeof __require&&__require;if(!l&&c)return c(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+s+"'")}s=o}var h=i[s]={exports:{}};t[s][0].call(h.exports,function(e){return r(t[s][1][e]||e)},h,h.exports,e,t,i,n)}return i[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<n.length;s++)r(n[s]);return r}({ball:[function(e,t,i){"use strict";cc._RF.push(t,"56fe6znU6dHj5fkcWRYxzx3","ball"),cc.Class({extends:cc.Component,properties:{ballAtlas:cc.SpriteAtlas},onLoad:function(){},randBall:function(e){var t=this.ballAtlas.getSpriteFrames();e>t.length&&(e=t.length);var i=parseInt(Math.random()*e);this.node.getComponent(cc.Sprite).spriteFrame=t[i],this.typeCnt=e},nextBall:function(){if(!window.game.gameOver){var e=this.ballAtlas.getSpriteFrames(),t=this.node.getComponent(cc.Sprite),i=+t.spriteFrame.name,n=i+1;n>=this.typeCnt&&(n=0),t.spriteFrame=e[n],cc.log(i),window.game.checkOver()}},start:function(){}}),cc._RF.pop()},{}],game:[function(e,t,i){"use strict";cc._RF.push(t,"44158C7Bp5KiYOAxBorpzxW","game"),cc.Class({extends:cc.Component,properties:{ballPrefab:cc.Prefab,ctrlAreaNode:cc.Node,hintLabel:cc.Label,restartButton:cc.Button,messageLabel:cc.Label},init:function(){window.game=this,this.gameOver=!1,this.allPass=!1,this.ballNodeArr=[],this.level=1,this.initMap(this.level),this.restartButton.node.active=!1,this.messageLabel.node.active=!1},initMap:function(e){e>4&&(e=4),this.time=30,this.now=0;var t=4*e,i=1+1*e,n=1;do{n=1;for(var r=null,a=0;a<t;a++)this.ballNodeArr[a]?r=this.ballNodeArr[a]:(r=cc.instantiate(this.ballPrefab),this.ctrlAreaNode.addChild(r),this.ballNodeArr.push(r)),r.getComponent("ball").randBall(i);for(var s=null,l=0;l<t;l++)r=this.ballNodeArr[l],0==l?s=r.getComponent(cc.Sprite).spriteFrame.name:(name=r.getComponent(cc.Sprite).spriteFrame.name,name===s&&n++)}while(4===n);cc.log("sameKind: "+n)},onLoad:function(){this.init()},checkOver:function(){for(var e=!0,t=null,i=0;i<this.ballNodeArr.length;i++){var n=this.ballNodeArr[i].getComponent(cc.Sprite).spriteFrame.name;if(0!==i){if(n!=t){e=!1;break}}else t=n}cc.log("\u904a\u6232\u662f\u5426\u7d50\u675f: ",e),e&&this.levelUp()},levelUp:function(){this.level++,this.level<=4?this.initMap(this.level):(this.allPass=!0,this.gameOver=!0,this.restartButton.node.active=!0,this.messageLabel.node.active=!0)},start:function(){},onClick_restart:function(){cc.director.loadScene("game")},update:function(e){if(this.now+=e,!this.allPass){var t=parseInt(this.time-this.now);t<=0?(this.gameOver=!0,this.hintLabel.string="\u6642\u9593\u5230\uff0c\u904a\u6232\u7d50\u675f",this.restartButton.node.active=!0):this.hintLabel.string="Level: ".concat(this.level,"   Time: ").concat(t," \u79d2")}}}),cc._RF.pop()},{}]},{},["ball","game"]);